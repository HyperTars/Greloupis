<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module db.query_user</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="db.html"><font color="#ffffff">db</font></a>.query_user</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/hypertars/Documents/Codes/Frontend-OVP/backend/db/query_user.py">/Users/hypertars/Documents/Codes/Frontend-OVP/backend/db/query_user.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="bson.html">bson</a><br>
</td><td width="25%" valign=top><a href="datetime.html">datetime</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-query_user_add_follow"><strong>query_user_add_follow</strong></a>(follower_id: str, following_id: str)</dt><dd><tt>:param&nbsp;follower_id:&nbsp;follower&nbsp;user&nbsp;id<br>
:param&nbsp;following_id:&nbsp;uploader&nbsp;user_id<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_add_login"><strong>query_user_add_login</strong></a>(user_id: str, ip='0.0.0.0', time=datetime.datetime(2020, 11, 2, 13, 0, 29))</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;unique&nbsp;id<br>
:param&nbsp;ip:&nbsp;user's&nbsp;login&nbsp;ip&nbsp;address<br>
:param&nbsp;time:&nbsp;user's&nbsp;login&nbsp;time&nbsp;(utc,&nbsp;optional),&nbsp;default:&nbsp;current&nbsp;system<br>
time&nbsp;(utc)<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_create"><strong>query_user_create</strong></a>(user_name: str, user_email: str, user_password: str, user_ip='0.0.0.0')</dt><dd><tt>:param&nbsp;user_name:&nbsp;user's&nbsp;unique&nbsp;nickname<br>
:param&nbsp;user_email:&nbsp;user's&nbsp;unique&nbsp;email<br>
:param&nbsp;user_password:&nbsp;user's&nbsp;password<br>
:param&nbsp;user_ip:&nbsp;user's&nbsp;ip&nbsp;address&nbsp;(default&nbsp;0.0.0.0)<br>
:return:&nbsp;user&nbsp;object&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_delete_by_id"><strong>query_user_delete_by_id</strong></a>(user_id: str, silent=False)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;unique&nbsp;id<br>
:param&nbsp;silent:&nbsp;delete&nbsp;user&nbsp;regardless&nbsp;of&nbsp;existence<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_delete_by_name"><strong>query_user_delete_by_name</strong></a>(user_name: str, silent=False)</dt><dd><tt>:param&nbsp;user_name:&nbsp;user's&nbsp;name<br>
:param&nbsp;silent:&nbsp;delete&nbsp;user&nbsp;regardless&nbsp;of&nbsp;existence<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_delete_follow"><strong>query_user_delete_follow</strong></a>(follower_id: str, following_id: str)</dt><dd><tt>:param&nbsp;follower_id:&nbsp;follower&nbsp;user&nbsp;id<br>
:param&nbsp;following_id:&nbsp;uploader&nbsp;user_id<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_get_by_email"><strong>query_user_get_by_email</strong></a>(user_email: str)</dt><dd><tt>:param&nbsp;user_email:&nbsp;user&nbsp;email<br>
:return:&nbsp;an&nbsp;array&nbsp;of&nbsp;such&nbsp;User&nbsp;(len&nbsp;==&nbsp;0&nbsp;or&nbsp;1),&nbsp;len&nbsp;==&nbsp;0&nbsp;if&nbsp;no&nbsp;such<br>
user_email,&nbsp;len&nbsp;==&nbsp;1&nbsp;if&nbsp;found</tt></dd></dl>
 <dl><dt><a name="-query_user_get_by_id"><strong>query_user_get_by_id</strong></a>(user_id: str)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user&nbsp;id<br>
:return:&nbsp;an&nbsp;array&nbsp;of&nbsp;such&nbsp;User&nbsp;(len&nbsp;==&nbsp;0&nbsp;or&nbsp;1),&nbsp;len&nbsp;==&nbsp;0&nbsp;if&nbsp;no&nbsp;such<br>
user_id,&nbsp;len&nbsp;==&nbsp;1&nbsp;if&nbsp;found</tt></dd></dl>
 <dl><dt><a name="-query_user_get_by_name"><strong>query_user_get_by_name</strong></a>(user_name: str)</dt><dd><tt>:param&nbsp;user_name:&nbsp;user&nbsp;name<br>
:return:&nbsp;an&nbsp;array&nbsp;of&nbsp;such&nbsp;User,&nbsp;len&nbsp;==&nbsp;0&nbsp;if&nbsp;no&nbsp;such&nbsp;user_name,&nbsp;len&nbsp;==&nbsp;1<br>
if&nbsp;found</tt></dd></dl>
 <dl><dt><a name="-query_user_search_by_aggregate"><strong>query_user_search_by_aggregate</strong></a>(aggr: list)</dt><dd><tt>:param&nbsp;aggr:&nbsp;dict&nbsp;of&nbsp;searching&nbsp;param<br>
:return:&nbsp;array&nbsp;of&nbsp;searching&nbsp;results&nbsp;in&nbsp;dict</tt></dd></dl>
 <dl><dt><a name="-query_user_search_by_contains"><strong>query_user_search_by_contains</strong></a>(**kw)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;Search&nbsp;user&nbsp;by&nbsp;i-contains&nbsp;(ignore&nbsp;case)<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;kw:&nbsp;keyword&nbsp;arguments<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_name":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;username&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_email":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;email&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_first_name":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;first&nbsp;name&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_last_name":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;last&nbsp;name&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_phone":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;phone&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_street1":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;street1&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_street2":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;street2&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_city":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;city&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_state":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;state&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_country":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;country&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_zip":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;zip&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_status":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;status&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_reg_date":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;reg&nbsp;date&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
At&nbsp;least&nbsp;one&nbsp;key&nbsp;must&nbsp;be&nbsp;provided<br>
&nbsp;&nbsp;&nbsp;&nbsp;:return:&nbsp;array&nbsp;of&nbsp;searching&nbsp;results&nbsp;(User&nbsp;Model)</tt></dd></dl>
 <dl><dt><a name="-query_user_search_by_pattern"><strong>query_user_search_by_pattern</strong></a>(**kw)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;search&nbsp;user&nbsp;by&nbsp;pattern&nbsp;(re.Pattern)<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;kw:&nbsp;keyword&nbsp;arguments<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_name":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;username&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_email":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;email&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_first_name":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;first&nbsp;name&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_last_name":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;last&nbsp;name&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_phone":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;phone&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_street1":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;street1&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_street2":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;street2&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_city":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;city&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_state":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;state&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_country":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;country&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_zip":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;zip&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_status":&nbsp;(optional)&nbsp;single&nbsp;keyword&nbsp;of&nbsp;status&nbsp;to&nbsp;be&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
At&nbsp;least&nbsp;one&nbsp;key&nbsp;must&nbsp;be&nbsp;provided<br>
&nbsp;&nbsp;&nbsp;&nbsp;:return:&nbsp;array&nbsp;of&nbsp;searching&nbsp;results&nbsp;(User&nbsp;Model)</tt></dd></dl>
 <dl><dt><a name="-query_user_update_details"><strong>query_user_update_details</strong></a>(user_id: str, **kw)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;Update&nbsp;user&nbsp;details<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;user_id:&nbsp;user&nbsp;unique&nbsp;id<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;kw:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_first_name":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;first&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_last_name":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;last&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_phone":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;phone<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_street1":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;street1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_street2":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;street2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_city":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;city<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_state":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;state<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_country":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;country<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_zip":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;user&nbsp;zip<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
At&nbsp;least&nbsp;one&nbsp;key&nbsp;must&nbsp;be&nbsp;provided<br>
&nbsp;&nbsp;&nbsp;&nbsp;:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_user_update_name"><strong>query_user_update_name</strong></a>(user_id: str, user_name: str)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;id<br>
:param&nbsp;user_name:&nbsp;user's&nbsp;name<br>
:return:&nbsp;array&nbsp;of&nbsp;User&nbsp;Model</tt></dd></dl>
 <dl><dt><a name="-query_user_update_password"><strong>query_user_update_password</strong></a>(user_id: str, user_password: str)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;id<br>
:param&nbsp;user_password:&nbsp;user's&nbsp;password<br>
:return:&nbsp;array&nbsp;of&nbsp;User&nbsp;Model</tt></dd></dl>
 <dl><dt><a name="-query_user_update_status"><strong>query_user_update_status</strong></a>(user_id: str, user_status: str)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;unique&nbsp;id<br>
:param&nbsp;user_status:&nbsp;user's&nbsp;new&nbsp;status<br>
:return:&nbsp;array&nbsp;of&nbsp;User&nbsp;Model</tt></dd></dl>
 <dl><dt><a name="-query_user_update_thumbnail"><strong>query_user_update_thumbnail</strong></a>(user_id: str, user_thumbnail: str)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;id<br>
:param&nbsp;user_thumbnail:&nbsp;thumbnail&nbsp;URI<br>
:return:&nbsp;array&nbsp;of&nbsp;user&nbsp;Model</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>VALID_USER_STATUS</strong> = ['public', 'private', 'closed']</td></tr></table>
</body></html>