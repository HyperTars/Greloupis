<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module db.query_video</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="db.html"><font color="#ffffff">db</font></a>.query_video</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/hypertars/Documents/Codes/Frontend-OVP/backend/db/query_video.py">/Users/hypertars/Documents/Codes/Frontend-OVP/backend/db/query_video.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="bson.html">bson</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-query_video_cnt_decr_by_one"><strong>query_video_cnt_decr_by_one</strong></a>(video_id: str, video_cnt: str)</dt><dd><tt>This&nbsp;is&nbsp;for&nbsp;decrementing&nbsp;total&nbsp;number&nbsp;of<br>
views/comments/likes/dislikes/stars/shares.<br>
&nbsp;<br>
:param&nbsp;video_id:&nbsp;video's&nbsp;unique&nbsp;id<br>
:param&nbsp;video_cnt:&nbsp;can&nbsp;choose&nbsp;from&nbsp;(view/comment/like/dislike/star/share)<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded,&nbsp;0&nbsp;if&nbsp;cnt&nbsp;&lt;&nbsp;0</tt></dd></dl>
 <dl><dt><a name="-query_video_cnt_incr_by_one"><strong>query_video_cnt_incr_by_one</strong></a>(video_id: str, video_cnt: str)</dt><dd><tt>This&nbsp;is&nbsp;for&nbsp;incrementing&nbsp;total&nbsp;number&nbsp;of<br>
views/comments/likes/dislikes/stars/shares<br>
:param&nbsp;video_id:&nbsp;video's&nbsp;unique&nbsp;id<br>
:param&nbsp;video_cnt:&nbsp;can&nbsp;choose&nbsp;from&nbsp;(view/comment/like/dislike/star/share)<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
 <dl><dt><a name="-query_video_create"><strong>query_video_create</strong></a>(user_id: str, video_title: str, video_raw_content: str)</dt><dd><tt>Create&nbsp;Video<br>
&nbsp;<br>
:param&nbsp;user_id:&nbsp;(required)&nbsp;user's&nbsp;unique&nbsp;id<br>
:param&nbsp;video_title:&nbsp;(required)&nbsp;video's&nbsp;title<br>
:param&nbsp;video_raw_content:&nbsp;(required)&nbsp;URI&nbsp;of&nbsp;raw&nbsp;video&nbsp;data&nbsp;(in&nbsp;temp<br>
space,&nbsp;to&nbsp;be&nbsp;transcode)<br>
:return:&nbsp;video&nbsp;created&nbsp;(Video&nbsp;Model)</tt></dd></dl>
 <dl><dt><a name="-query_video_delete"><strong>query_video_delete</strong></a>(video_id: str, silent=False)</dt><dd><tt>:param&nbsp;video_id:&nbsp;video's&nbsp;unique&nbsp;id<br>
:param&nbsp;silent:&nbsp;delete&nbsp;video&nbsp;regardless&nbsp;of&nbsp;existence<br>
:return:&nbsp;1&nbsp;if&nbsp;succeeded,&nbsp;-1&nbsp;if&nbsp;no&nbsp;such&nbsp;video</tt></dd></dl>
 <dl><dt><a name="-query_video_get_by_title"><strong>query_video_get_by_title</strong></a>(video_title: str)</dt><dd><tt>:param&nbsp;video_title:&nbsp;video's&nbsp;unique&nbsp;title<br>
:return:&nbsp;an&nbsp;array&nbsp;of&nbsp;such&nbsp;Video&nbsp;(len&nbsp;==&nbsp;0&nbsp;or&nbsp;1),&nbsp;len&nbsp;==&nbsp;0&nbsp;if&nbsp;no&nbsp;such<br>
video_id,&nbsp;len&nbsp;==&nbsp;1&nbsp;if&nbsp;found</tt></dd></dl>
 <dl><dt><a name="-query_video_get_by_user_id"><strong>query_video_get_by_user_id</strong></a>(user_id: str)</dt><dd><tt>:param&nbsp;user_id:&nbsp;user's&nbsp;unique&nbsp;id<br>
:return:&nbsp;an&nbsp;array&nbsp;of&nbsp;such&nbsp;Video&nbsp;(videos&nbsp;created&nbsp;by&nbsp;the&nbsp;user)</tt></dd></dl>
 <dl><dt><a name="-query_video_get_by_video_id"><strong>query_video_get_by_video_id</strong></a>(video_id: str)</dt><dd><tt>:param&nbsp;video_id:&nbsp;video's&nbsp;unique&nbsp;id<br>
:return:&nbsp;an&nbsp;array&nbsp;of&nbsp;such&nbsp;Video&nbsp;(len&nbsp;==&nbsp;0&nbsp;or&nbsp;1),&nbsp;len&nbsp;==&nbsp;0&nbsp;if&nbsp;no&nbsp;such<br>
video_id,&nbsp;len&nbsp;==&nbsp;1&nbsp;if&nbsp;found</tt></dd></dl>
 <dl><dt><a name="-query_video_search_by_aggregate"><strong>query_video_search_by_aggregate</strong></a>(aggr: dict)</dt><dd><tt>:param&nbsp;aggr:&nbsp;dict&nbsp;or&nbsp;list&nbsp;of&nbsp;searching&nbsp;param<br>
:return:&nbsp;array&nbsp;of&nbsp;searching&nbsp;results&nbsp;in&nbsp;dict</tt></dd></dl>
 <dl><dt><a name="-query_video_search_by_contains"><strong>query_video_search_by_contains</strong></a>(**kw)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;Search&nbsp;video&nbsp;by&nbsp;i-contains&nbsp;(ignore&nbsp;case)<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;kw:&nbsp;keyword&nbsp;arguments<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_id":&nbsp;(```str```,&nbsp;optional)&nbsp;video's&nbsp;unique&nbsp;id<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"user_id":&nbsp;(```str```,&nbsp;optional)&nbsp;user's&nbsp;unique&nbsp;id<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_title":&nbsp;(```str```,&nbsp;optional)&nbsp;string&nbsp;of&nbsp;video&nbsp;title&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_channel":&nbsp;(```str```,&nbsp;optional)&nbsp;channel&nbsp;of&nbsp;videos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_category":&nbsp;(```str```,&nbsp;optional)&nbsp;category&nbsp;of&nbsp;videos<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
At&nbsp;least&nbsp;one&nbsp;key&nbsp;must&nbsp;be&nbsp;provided<br>
&nbsp;&nbsp;&nbsp;&nbsp;:return:&nbsp;array&nbsp;of&nbsp;searching&nbsp;results&nbsp;(Video&nbsp;Model)</tt></dd></dl>
 <dl><dt><a name="-query_video_search_by_pattern"><strong>query_video_search_by_pattern</strong></a>(**kw)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;Search&nbsp;video&nbsp;by&nbsp;pattern<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;kw:&nbsp;keyword&nbsp;arguments<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"pattern_title":&nbsp;(```str```,&nbsp;optional)&nbsp;search&nbsp;title&nbsp;pattern<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"pattern_description":&nbsp;(```str```,&nbsp;optional)&nbsp;search&nbsp;description<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
At&nbsp;least&nbsp;one&nbsp;key&nbsp;must&nbsp;be&nbsp;provided<br>
&nbsp;&nbsp;&nbsp;&nbsp;:return:&nbsp;array&nbsp;of&nbsp;searching&nbsp;results&nbsp;(Video&nbsp;Model)</tt></dd></dl>
 <dl><dt><a name="-query_video_update"><strong>query_video_update</strong></a>(video_id: str, **kw)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;Update&nbsp;Video&nbsp;Info<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;video_id:&nbsp;video's&nbsp;unique&nbsp;id<br>
&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;kw:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_title":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;title<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_raw_content":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;URI&nbsp;of&nbsp;raw&nbsp;video<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(in&nbsp;temp&nbsp;space,&nbsp;to&nbsp;be&nbsp;transcode)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_raw_status":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;status&nbsp;of&nbsp;raw<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;video&nbsp;data,&nbsp;default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_raw_size":&nbsp;(```float```,&nbsp;optional)&nbsp;new&nbsp;size&nbsp;of&nbsp;raw&nbsp;video<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_duration":&nbsp;(```int```,&nbsp;optional)&nbsp;duration&nbsp;of&nbsp;video&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;second<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_channel":&nbsp;(```str```,&nbsp;optional)&nbsp;channel&nbsp;of&nbsp;video&nbsp;(default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self-made)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_tag":&nbsp;(```list```,&nbsp;optional)&nbsp;array&nbsp;of&nbsp;new&nbsp;tags<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_category":&nbsp;(```list```,&nbsp;optional)&nbsp;array&nbsp;of&nbsp;new&nbsp;categories<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_description":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;description<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_language":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;language<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_status":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;status,&nbsp;default:&nbsp;public<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_thumbnail":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;thumbnail&nbsp;uri<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_uri_low":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;final&nbsp;uri&nbsp;(480p&nbsp;low<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolution)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_uri_mid":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;final&nbsp;uri&nbsp;(720p&nbsp;mid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolution)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;"video_uri_high":&nbsp;(```str```,&nbsp;optional)&nbsp;new&nbsp;final&nbsp;uri&nbsp;(1080p<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high&nbsp;resolution)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
At&nbsp;least&nbsp;one&nbsp;key&nbsp;must&nbsp;be&nbsp;provided<br>
&nbsp;&nbsp;&nbsp;&nbsp;:return:&nbsp;1&nbsp;if&nbsp;succeeded</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>VALID_VIDEO_CNT</strong> = ['view', 'views', 'video_view', 'comment', 'comments', 'video_comment', 'like', 'likes', 'video_like', 'dislike', 'dislikes', 'video_dislike', 'star', 'stars', 'video_star', 'share', 'shares', 'video_share']<br>
<strong>VALID_VIDEO_STATUS</strong> = ['public', 'private', 'processing', 'deleted']</td></tr></table>
</body></html>